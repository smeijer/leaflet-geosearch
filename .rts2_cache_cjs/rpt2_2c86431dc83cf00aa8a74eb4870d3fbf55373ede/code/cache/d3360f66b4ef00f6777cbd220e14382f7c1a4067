{"code":"import AbstractProvider from './provider';\r\nexport default class EsriProvider extends AbstractProvider {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.searchUrl = 'https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find';\r\n    }\r\n    endpoint({ query }) {\r\n        const params = typeof query === 'string' ? { text: query } : query;\r\n        params.f = 'json';\r\n        return this.getUrl(this.searchUrl, params);\r\n    }\r\n    parse(result) {\r\n        return result.data.locations.map((r) => ({\r\n            x: r.feature.geometry.x,\r\n            y: r.feature.geometry.y,\r\n            label: r.name,\r\n            bounds: [\r\n                [r.extent.ymin, r.extent.xmin],\r\n                [r.extent.ymax, r.extent.xmax],\r\n            ],\r\n            raw: r,\r\n        }));\r\n    }\r\n}\r\n//# sourceMappingURL=esriProvider.js.map","map":"{\"version\":3,\"file\":\"esriProvider.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/providers/esriProvider.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,gBAAmE,MAAM,YAAY,CAAC;AAqB7F,MAAM,CAAC,OAAO,OAAO,YAAa,SAAQ,gBAA0C;IAApF;;QACE,cAAS,GAAG,0EAA0E,CAAC;IAqBzF,CAAC;IAnBC,QAAQ,CAAC,EAAE,KAAK,EAAoB;QAClC,MAAM,MAAM,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;QACnE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC;QAElB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,KAAK,CAAC,MAAoC;QACxC,OAAO,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACvC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvB,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACvB,KAAK,EAAE,CAAC,CAAC,IAAI;YACb,MAAM,EAAE;gBACN,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;gBAC9B,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;aAC/B;YACD,GAAG,EAAE,CAAC;SACP,CAAC,CAAC,CAAC;IACN,CAAC;CACF\"}","dts":{"name":"/home/smeijer/dev/leaflet-geosearch/src/providers/esriProvider.d.ts","writeByteOrderMark":false,"text":"import AbstractProvider, { EndpointArgument, ParseArgument, SearchResult } from './provider';\r\ninterface RequestResult {\r\n    spatialReference: {\r\n        wkid: number;\r\n        latestWkid: number;\r\n    };\r\n    locations: RawResult[];\r\n}\r\ninterface RawResult {\r\n    name: string;\r\n    extent: {\r\n        xmin: number;\r\n        ymin: number;\r\n        xmax: number;\r\n        ymax: number;\r\n    };\r\n    feature: {\r\n        geometry: {\r\n            x: number;\r\n            y: number;\r\n        };\r\n        attributes: {\r\n            Score: number;\r\n            Addr_Type: string;\r\n        };\r\n    };\r\n}\r\nexport default class EsriProvider extends AbstractProvider<RequestResult, RawResult> {\r\n    searchUrl: string;\r\n    endpoint({ query }: EndpointArgument): string;\r\n    parse(result: ParseArgument<RequestResult>): SearchResult<RawResult>[];\r\n}\r\nexport {};\r\n"}}
